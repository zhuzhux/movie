<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
<title>Video.js 5.18.4</title>
	<link href="css/video-js.css" rel="stylesheet">
	<!-- If you'd like to support IE8 -->
	<script src="js/videojs-ie8.min.js"></script>
	<script src="js/mui.min.js"></script>
    <script src="js/jquery.js"></script>
    <link href="css/mui.min.css" rel="stylesheet"/>
	<style>
		/*body{background-color: #191919}*/
	/*	.m{ width: 640px; height: 264; margin-left: auto; margin-right: auto; margin-top: 100px; }*/
	</style>
</head>

<body>

	<div class="m"  style="width: 100%;height:auto;">
		<video id="my-video" class="video-js  vjs-big-play-centered" controls="controls" preload="auto" width="350" height="200"
		  poster="MY_VIDEO_POSTER.jpg" data-setup="{}">
			<source src="http://vjs.zencdn.net/v/oceans.mp4" type="video/mp4">
			<source src="http://vjs.zencdn.net/v/oceans.webm" type="video/webm">
			<source src="http://vjs.zencdn.net/v/oceans.ogv" type="video/ogg">
			<p class="vjs-no-js">
			  To view this video please enable JavaScript, and consider upgrading to a web browser that
			  <a href="http://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>
			</p>
		  </video>
		  <script src="http://vjs.zencdn.net/5.18.4/video.min.js"></script>	
		  <script type="text/javascript">
			var myPlayer = videojs('my-video');
			videojs("my-video").ready(function(){
				var myPlayer = this;
//				myPlayer.play();
			});
			
			
			
			
			/**
			 * 视频全屏播放旋转目前的逻辑
			 * 视频全屏，即锁定屏幕为横屏。
			 * 视频恢复，则解除屏幕方向的锁定。
			 * 具体的切换，根据自己的实际业务做相应的操作。
			 */
			// Android平台的视频全屏旋转
			var fullScreenOfAndroid = function() {
				if(true) {
					// 最新5+API的支持
					var self = plus.webview.currentWebview();
					self.setStyle({
						videoFullscreen: 'landscape'
					});
				} else {
					// 如果暂未更新sdk，可以先使用差量升级等方式，做出兼容处理；
					// 旧版本下的兼容处理
					document.addEventListener('webkitfullscreenchange', function() {
						var el = document.webkitFullscreenElement; //获取全屏元素
						if(el) {
							plus.screen.lockOrientation('landscape'); //锁死屏幕方向为横屏
						} else {
							plus.screen.unlockOrientation(); //解除屏幕方向的锁定
						}
					});

				}
			};
			// iOS平台的视频全屏旋转
			var fullScreenOfIos = function(videoElem) {
				// 监听的事件与Android平台有很大区别
				videoElem.addEventListener('webkitbeginfullscreen', function() {
					plus.screen.lockOrientation('landscape'); //锁死屏幕方向为横屏
				});
				videoElem.addEventListener('webkitendfullscreen', function() {
					plus.screen.unlockOrientation(); //解除屏幕方向的锁定
				});
			};
			// 涉及到5+API的内容，均在plusready事件后调用；
			document.addEventListener('plusready', function() {
				var osName = plus.os.name;
				if(osName === 'Android') {
					fullScreenOfAndroid();
				} else if(osName === 'iOS') {
					var videoElem = document.getElementById('media');
					fullScreenOfIos(videoElem);
				}
			});
		</script>
	</div>

</body>
</html>
